<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Notizen 1</title>
<link rel="icon" href="IMG_7936" type="image/x-icon">
<style>
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    background-color: #f4f4f4; 
  }
  #buttonContainer {
    display: flex;
    justify-content: flex-start;
    padding-left: 80px; /* Align with the textarea */
    margin-top: 30px;
    
  }
  button {
    margin-right: 10px; /* Spacing between buttons */
    font-size: 15px;
        
  }
  textarea {
    font-family: Arial, sans-serif;
    font-size: 15px;
    resize: none;
    border: none; /* No border */
    outline: none; /* No focus outline */
    margin: 30px 80px 0 80px; /* Margin as specified */
    flex-grow: 1;
    min-height: 400px; /* Minimum height */
  }
</style>
</head>
<body>

<div id="buttonContainer">
  <button onclick="copyText()">Copy</button>
  <button onclick="pasteText()">Paste</button>
  <button onclick="clearText()">Löschen</button>
</div>

<textarea id="textArea" placeholder="Start typing..."></textarea>

<script>
  // INHALT SPEICHERN
  function saveContent() {
    try {
      localStorage.setItem('textData2', document.getElementById('textArea').value);
    } catch (e) {
      console.error("Could not save to localStorage. Details: ", e);
    }
  }

  // COPY ZWISCHENABLAGE
  function copyText() {
    navigator.clipboard.writeText(document.getElementById('textArea').value)
      .then(() => alert('Text copied to clipboard'))
      .catch(err => console.error('Failed to copy text: ', err));
  }

  // PASTE

// Paste text from clipboard
  function pasteText() {
    navigator.clipboard.readText()
      .then(text => {
        // Append two new lines and the pasted text to the current content
        const currentContent = document.getElementById('textArea').value;
        document.getElementById('textArea').value = currentContent + "\n\n" + text;
        saveContent(); // Save after pasting
      })
      .catch(err => console.error('Failed to paste text: ', err));
  }

  // LÖSCHEN
  function clearText() {
    if (window.confirm("Alter Text wird gelöscht. Sicher?")) {
      document.getElementById('textArea').value = '';
      saveContent(); // Save the empty state
    }
  }

  // Event listener for textarea changes
  document.getElementById('textArea').addEventListener('input', saveContent);

  // Load any saved content from local storage when the page loads
  window.onload = function() {
    try {
      var savedContent = localStorage.getItem('textData2');
      if (savedContent) {
        document.getElementById('textArea').value = savedContent;
      }
    } catch (e) {
      console.error("Could not load from localStorage. Details: ", e);
    }
  };
</script>

</body>
</html>
